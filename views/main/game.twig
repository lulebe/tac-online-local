{% extends "layout.twig" %}

{% block title %}Game{% endblock %}

{% block js %}
<script type="text/javascript">
  const gameName = "{{ gameName }}"
  const players = {{ players | raw }}
</script>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="/static/js/canvas_cards.js"></script>
<script type="text/javascript" src="/static/js/canvas.js"></script>
<script type="text/javascript" src="/static/js/main/game.js"></script>
{% endblock %}

{% block main %}
<div class="game-layout">
  <div class="game-header">
    <h1>playing Game {{ gameName }}: <span id="turn-player"></span>'s turn</h1>
  </div>
  <div id="game-table">
    <canvas id="game-canvas"></canvas>
  </div>
  <div class="game-scoreboard">
    <h2>Players</h2>
    <ul id="scoreboard"></ul>
  </div>
  <div class="game-misc">
    Current card:<br>
    <img src="/static/imgs/cards/0.png" style="height: 150px; float: left; margin-right: 16px;" id="card-current">
    <span>No card is selected.</span>
    <div id="warning-box">This is a test warning.</div>
  </div>
  <div class="game-main-actions">
    <button id="main-action-reset">reset</button>
    <button id="main-action-finish" class="primary">finish</button>
  </div>
</div>
<div id="loadgame-popup">
  <div id="loadgame-modal">
    <h3>Continue last game?</h3>
    <p>An unfinished game is stored on this device. The same player names are connected, so you can continue it.</p>
    <div class="buttons">
      <button id="loadgame-new">Start new Game</button>
      <button id="loadgame-load" class="primary">Continue Game</button>
    </div>
  </div>
</div>
{% endblock %}